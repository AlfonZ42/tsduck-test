
MPEG transport stream processor using a chain of plugins

Usage: tsp [tsp-options] \
    [-I input-name [input-options]] \
    [-P processor-name [processor-options]] ... \
    [-O output-name [output-options]]

Options:

  -a nullpkt/inpkt
  --add-input-stuffing nullpkt/inpkt
      Specify that <nullpkt> null TS packets must be automatically inserted
      after every <inpkt> input TS packets. Both <nullpkt> and <inpkt> must be
      non-zero integer values. This option is useful to artificially increase
      the input bitrate by adding stuffing. Example: the option "-a 14/24" adds
      14 null packets every 24 input packets, effectively turning a 24 Mb/s
      input stream (terrestrial) into a 38 Mb/s stream (satellite).

  --add-start-stuffing count
      Specify that <count> null TS packets must be automatically inserted at
      the start of the processing, before what comes from the input plugin.

  --add-stop-stuffing count
      Specify that <count> null TS packets must be automatically inserted at
      the end of the processing, after what comes from the input plugin.

  -b value
  --bitrate value
      Specify the input bitrate, in bits/seconds. By default, the input bitrate
      is provided by the input plugin or by analysis of the PCR.

  --bitrate-adjust-interval value
      Specify the interval in seconds between bitrate adjustments, ie. when the
      output bitrate is adjusted to the input one. The default is 5 seconds.
      Some output processors ignore this setting. Typically, ASI or modulator
      devices use it, while file devices ignore it. This option is ignored if
      --bitrate is specified.

  --buffer-size-mb value
      Specify the buffer size in mega-bytes. This is the size of the buffer
      between the input and output devices. The default is 16 MB.
      The value may include up to 6 meaningful decimal digits.

  --control-local address
      Specify the IP address of the local interface on which to listen for
      control commands. It can be also a host name that translates to a local
      address. By default, listen on all local interfaces.

  --control-port value
      Specify the TCP port on which tsp listens for control commands. If
      unspecified, no control commands are expected.

  --control-reuse-port
      Set the 'reuse port' socket option on the control TCP server port. This
      option is not enabled by default to avoid accidentally running two tsp
      commands with the same control port.

  --control-source address
      Specify a remote IP address which is allowed to send control commands. By
      default, as a security precaution, only the local host is allowed to
      connect. Several --control-source options are allowed.

  --control-timeout milliseconds
      Specify the reception timeout in milliseconds for control commands. The
      default timeout is 5000 ms.

  -d[level]
  --debug[=level]
      Produce debug traces. The default level is 1. Higher levels produce more
      messages.

  --help
      Display this help text.

  -i
  --ignore-joint-termination
      Ignore all --joint-termination options in plugins. The idea behind "joint
      termination" is to terminate tsp when several plugins have jointly
      terminated their processing. Some plugins have a --joint-termination
      option. When set, the plugin executes until some plugin-specific
      condition. When all plugins with --joint-termination set have reached
      their termination condition, tsp terminates.
      
      The option --ignore-joint-termination disables the termination of tsp
      when all plugins have reached their joint termination condition.

  -l[value]
  --list-processors[=value]
      List all available processors.
      Must be one of "all", "input", "output", "packet".

  --log-message-count value
      Specify the maximum number of buffered log messages. Log messages are
      displayed asynchronously in a low priority thread. This value specifies
      the maximum number of buffered log messages in memory, before being
      displayed. When too many messages are logged in a short period of time,
      while plugins use all CPU power, extra messages are dropped. Increase
      this value if you think that too many messages are dropped. The default
      is 512 messages.

  --max-flushed-packets value
      Specify the maximum number of packets to be processed before flushing
      them to the next processor or the output. When the processing time is
      high and some packets are lost, try decreasing this value. The default is
      10,000 packets in offline mode and 1,000 in real-time mode.

  --max-input-packets value
      Specify the maximum number of packets to be received at a time from the
      input plug-in. By default, in offline mode, tsp reads as many packets as
      it can, depending on the free space in the buffer. In real-time mode, the
      default is 1,000 packets.

  -m
  --monitor
      Continuously monitor the system resources which are used by tsp. This
      includes CPU load, virtual memory usage. Useful to verify the stability
      of the application.

  -r[value]
  --realtime[=value]
      Specifies if tsp and all plugins should use default values for real-time
      or offline processing. By default, if any plugin prefers real-time, the
      real-time defaults are used. If no plugin prefers real-time, the offline
      default are used. If -r or --realtime is used alone, the real-time
      defaults are enforced. The explicit values 'no', 'false', 'off' are used
      to enforce the offline defaults and the explicit values 'yes', 'true',
      'on' are used to enforce the real-time defaults.

  --receive-timeout milliseconds
      Specify a timeout in milliseconds for all input operations. Equivalent to
      the same --receive-timeout options in some plugins. By default, there is
      no input timeout.

  -s
  --synchronous-log
      Each logged message is guaranteed to be displayed, synchronously, without
      any loss of message. The downside is that a plugin thread may be blocked
      for a short while when too many messages are logged. This option shall be
      used when all log messages are needed and the source and destination are
      not live streams (files for instance). This option is not recommended for
      live streams, when the responsiveness of the application is more
      important than the logged messages.

  -t
  --timed-log
      Each logged message contains a time stamp.

  -v
  --verbose
      Produce verbose output.

  --version
      Display the TSDuck version number.

